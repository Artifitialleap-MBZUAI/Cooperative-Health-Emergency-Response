from keras.models import load_model
import numpy as np
loaded_model = load_model('best_ecg_modelcopy.h5')
sample_alert = [
 1.0,
 0.6666666865348815,
 0.1004566177725792,
 0.03652967885136604,
 0.07305935770273209,
 0.0502283088862896,
 0.01826483942568302,
 0.10502283275127411,
 0.1324200928211212,
 0.09132420271635057,
 0.11872146278619768,
 0.18264840543270114,
 0.24200913310050964,
 0.26484018564224243,
 0.25570777058601374,
 0.26027396321296686,
 0.26484018564224243,
 0.25570777058601374,
 0.2785388231277465,
 0.2922374308109284,
 0.2876712381839753,
 0.2694063782691956,
 0.2876712381839753,
 0.29680365324020386,
 0.3059360682964325,
 0.3059360682964325,
 0.33333334326744074,
 0.35616439580917364,
 0.3652968108654023,
 0.3652968108654023,
 0.4018264710903168,
 0.43835616111755366,
 0.4840182662010193,
 0.4885844886302947,
 0.5296803712844849,
 0.5707762837409972,
 0.5525113940238952,
 0.5388127565383912,
 0.5205479264259337,
 0.5068492889404297,
 0.4566209912300109,
 0.40639269351959223,
 0.37442922592163086,
 0.3515981733798981,
 0.29680365324020386,
 0.26027396321296686,
 0.232876718044281,
 0.26027396321296686,
 0.26027396321296686,
 0.2511415481567382,
 0.25570777058601374,
 0.26027396321296686,
 0.26027396321296686,
 0.23744292557239524,
 0.24657534062862396,
 0.26027396321296686,
 0.21917808055877683,
 0.21461187303066254,
 0.23744292557239524,
 0.26484018564224243,
 0.2511415481567382,
 0.24657534062862396,
 0.26484018564224243,
 0.2831050157546997,
 0.30136987566947937,
 0.2785388231277465,
 0.273972600698471,
 0.26484018564224243,
 0.24200913310050964,
 0.273972600698471,
 0.2922374308109284,
 0.2785388231277465,
 0.2831050157546997,
 0.26484018564224243,
 0.273972600698471,
 0.26027396321296686,
 0.26027396321296686,
 0.2785388231277465,
 0.2831050157546997,
 0.2831050157546997,
 0.3059360682964325,
 0.2922374308109284,
 0.3059360682964325,
 0.3515981733798981,
 0.4429223835468292,
 0.689497709274292,
 0.9086757898330688,
 0.611872136592865,
 0.07305935770273209,
 0.0,
 0.06392694264650345,
 0.09132420271635057,
 0.1004566177725792,
 0.17808219790458682,
 0.1643835604190826,
 0.1643835604190826,
 0.18264840543270114,
 0.24200913310050964,
 0.30136987566947937,
 0.31963470578193665,
 0.2922374308109284,
 0.2922374308109284,
 0.31963470578193665,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0]

sample_no_alert = [
 0.9779411554336546,
 0.9264705777168274,
 0.6813725233078002,
 0.2450980395078659,
 0.15441176295280454,
 0.19117647409439087,
 0.1519607901573181,
 0.08578431606292723,
 0.05882352963089942,
 0.04901960864663124,
 0.04411764815449715,
 0.06127450987696649,
 0.06617647409439087,
 0.06127450987696649,
 0.04901960864663124,
 0.07352941483259201,
 0.06127450987696649,
 0.06127450987696649,
 0.06617647409439087,
 0.06862745434045793,
 0.09558823704719543,
 0.07598039507865906,
 0.09313725680112839,
 0.10539215803146361,
 0.1151960790157318,
 0.10294117778539656,
 0.11764705926179887,
 0.125,
 0.1421568691730499,
 0.12745098769664764,
 0.1519607901573181,
 0.14460784196853635,
 0.16421568393707278,
 0.14460784196853635,
 0.15931372344493863,
 0.1519607901573181,
 0.15441176295280454,
 0.1421568691730499,
 0.1519607901573181,
 0.1519607901573181,
 0.14705882966518402,
 0.13235294818878174,
 0.12745098769664764,
 0.1348039209842682,
 0.13725490868091586,
 0.11274509876966478,
 0.10784313827753068,
 0.10539215803146361,
 0.10784313827753068,
 0.09803921729326248,
 0.09313725680112839,
 0.10294117778539656,
 0.10049019753932954,
 0.10539215803146361,
 0.10294117778539656,
 0.11764705926179887,
 0.10539215803146361,
 0.12254901975393295,
 0.12745098769664764,
 0.1421568691730499,
 0.14705882966518402,
 0.14460784196853635,
 0.17401960492134091,
 0.2303921580314636,
 0.23774509131908414,
 0.2475490123033524,
 0.2303921580314636,
 0.22549019753932956,
 0.1985294073820114,
 0.1764705926179886,
 0.13235294818878174,
 0.125,
 0.11764705926179887,
 0.12254901975393295,
 0.11274509876966478,
 0.1299019604921341,
 0.1151960790157318,
 0.08333333581686017,
 0.0,
 0.06617647409439087,
 0.3063725531101227,
 0.6127451062202454,
 0.8602941036224365,
 1.0,
 0.9583333134651184,
 0.7450980544090272,
 0.3039215803146362,
 0.16421568393707278,
 0.20588235557079315,
 0.16421568393707278,
 0.10294117778539656,
 0.09558823704719543,
 0.09068627655506135,
 0.10049019753932954,
 0.09558823704719543,
 0.09803921729326248,
 0.09313725680112839,
 0.09803921729326248,
 0.09558823704719543,
 0.11274509876966478,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0,
 0.0]
pred = loaded_model.predict(np.array(sample_alert).reshape(1,187,1))
result = np.argmax(pred,axis=1)
f = open("veins-veins-5.1/src/veins/modules/mobility/traci/test.txt", "a")
if (result > 0):
    f.write("1")
    f.close()
else:
    f.write("0")
    f.close()

